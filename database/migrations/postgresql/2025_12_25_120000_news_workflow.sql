CREATE TABLE IF NOT EXISTS news_notes ( id INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY, news_id INTEGER NOT NULL, user_id INTEGER NULL, note TEXT NOT NULL, created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, PRIMARY KEY (id), KEY idx_news_id (news_id), KEY idx_created_at (created_at) ); CREATE TABLE IF NOT EXISTS news_revisions ( id INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY, news_id INTEGER NOT NULL, user_id INTEGER NULL, action VARCHAR(30) NOT NULL DEFAULT 'update', payload TEXT NOT NULL, created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, PRIMARY KEY (id), KEY idx_news_id (news_id), KEY idx_created_at (created_at) );
