/* جدول لتخزين تفاعلات القرّاء على الأخبار */ CREATE TABLE IF NOT EXISTS news_reactions ( id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY, news_id BIGINT NOT NULL, type VARCHAR(20) NOT NULL, ip_address VARCHAR(64) DEFAULT NULL, user_agent VARCHAR(255) DEFAULT NULL, created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ); CREATE INDEX IF NOT EXISTS idx_news_reactions_news_id ON news_reactions (news_id); CREATE INDEX IF NOT EXISTS idx_news_reactions_news_id_type ON news_reactions (news_id, type);
