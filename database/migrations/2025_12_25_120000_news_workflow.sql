CREATE TABLE IF NOT EXISTS news_notes ( id INT NOT NULL AUTO_INCREMENT, news_id INT NOT NULL, user_id INT NULL, note TEXT NOT NULL, created_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP, PRIMARY KEY (id), KEY idx_news_id (news_id), KEY idx_created_at (created_at) ); CREATE TABLE IF NOT EXISTS news_revisions ( id INT NOT NULL AUTO_INCREMENT, news_id INT NOT NULL, user_id INT NULL, action VARCHAR(30) NOT NULL DEFAULT 'update', payload LONGTEXT NOT NULL, created_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP, PRIMARY KEY (id), KEY idx_news_id (news_id), KEY idx_created_at (created_at) );
